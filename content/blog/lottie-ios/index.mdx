---
title: Lottieを使ってアニメーションを実装してみる
date: '2020-12-12T23:46:37.121Z'
description: 今回Lottieというライブラリを使い、リッチアニメーションを実装してみるわけなのですが、Lottieとは何か、どう言う仕組みで動いているのか、他のアニメーションライブラリではなくなぜLottieなのか等々を纏めていきたいと思います。早速見ていきましょう。
tags: ['Animation', 'Library', 'Swift']
categories: ['Programming']
thumbnail: './lottie.png'
---

![Lottie](./lottie.png "Lottie")

こんにちは、バンクーバー在住のソフトウェアデベロッパー wataru です。

さて、今回 Lottie というライブラリを使い、リッチアニメーションを実装してみるわけなのですが、Lottie とは何か、どう言う仕組みで動いているのか、他のアニメーションライブラリではなくなぜ Lottie なのか等々を纏めていきたいと思います。早速見ていきましょう。

## Lottie とは

Airbnb が開発した、リッチアニメーションを簡単に実装できるアニメーションライブラリです。

Lottie 自体にアニメーションを付与する機能はなく、[Adobe After Effects](https://www.adobe.com/products/aftereffects.html) (ビデオエフェクトソフトウェア)から生成した JSON ファイル(\*のちに Lottie ファイルと呼ぶ)をモバイル、ウェブ上で読み込み、アニメーション表示するためのライブラリです。

要は動画でいうとこのビデオプレイヤー的な役割をするライブラリです。ビデオプレイヤー(Lottie)に好きな動画(Lottie ファイル)を読み込ませることにより、様々なリッチアニメーションを実現することができます。

## なぜ Lottie を選んだのか

Github 上のスター数は 2 万を超えています([こちら](https://github.com/airbnb/lottie-ios))。これだけで十分ライブラリの信憑性はあるのですが、ライブラリの導入のしやすさ、パフォーマンスチューニング、細やかな機能設定、それに複数のプラットフォーム(iOS, Android, React Native, Web...etc)で使える点等々で使用を決めました。ドキュメントは丁寧に纏められているのですが、サンプルが少ないのが少し残念でした。

- [公式ドキュメント](http://airbnb.io/lottie/#/ios)

## インストール

まず、
公式ドキュメントのライブラリ[導入編](http://airbnb.io/lottie/#/ios?id=installing-lottie)を見てみましょう。ライブラリマネーシャーでおなじみ、cocoapods を使用します。

Pod ファイルに以下一文を追加して、`pod install`するだけです。以上で導入完了。

```
pod 'lottie-ios'
```

## 実装

実装前に、Lottie ファイルを落としてこないといけませんね。[LottieFiles](https://lottiefiles.com/)で無料のものを落としてきてください。僕は[こちら](https://lottiefiles.com/41256-skateboarding)のスケボー兄さんを使用させてもらいます。

![lottie-file-skateboarding](./lottie-file-skateboarding.gif "Lottie-file-skateboarding")

ダウンロードした Lottie ファイルをプロジェクトに取り込み、数行のコードを書けば完了です

```swift
import UIKit
import Lottie

class ViewController: UIViewController {
  override func viewDidLoad() {
    super.viewDidLoad()

    // play lottie file
    let animationView = AnimationView(name: "41256-skateboarding")
    animationView.frame = view.bounds
    animationView.loopMode = .loop
    animationView.contentMode = .scaleAspectFit
    view.addSubview(animationView)
    animationView.play()
  }
}
```

実行するとしてシミュレーター上でアニメーションを確認できました。

![lottie-file-skateboarding-simulator](./lottie-ios-simulator.gif "lottie-file-skateboarding-simulator")

## Lottie の問題点

のちに詳しく書きますが、Adobe After Effects のライセンスが有償なので、

モバイルアプリのクオリティーを決める上で欠かせないのがアニメーションで、

Lottie はリッチアニメーションを簡単に実装することができるライブラリです。

また、iOS, Android, React Native, Web と幅広く使用できる点も

Lottie は Airbnb のアニメーションライブラリで、非常に簡単にリッチなアニメーションを実現できるのが特徴です。今回は

## 目的
